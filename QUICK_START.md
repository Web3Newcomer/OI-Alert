# å¸å®‰æ°¸ç»­åˆçº¦äº¤æ˜“ä¿¡å·ç³»ç»Ÿ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ðŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### 1. å®‰è£…ä¾èµ–
```bash
pip3 install -r requirements.txt
```

### 2. é…ç½®çŽ¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
# ä¼ä¸šå¾®ä¿¡é…ç½®
WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_webhook_key
ENABLE_WECHAT_NOTIFICATION=true

# CoinMarketCap API é…ç½®ï¼ˆæŽ¨èï¼‰
COINMARKETCAP_API_KEY=your_coinmarketcap_api_key
ENABLE_COINMARKETCAP=true
```

### 3. è¿è¡Œä¸»ç¨‹åº
```bash
# ç«‹å³è¿è¡Œä¸€æ¬¡
python3 scheduler.py --run-now

# å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼ˆæŽ¨èï¼‰
python3 scheduler.py --daemon --funding-rate
```

## ðŸ“Š æŸ¥çœ‹ç»“æžœ

è¿è¡Œå®ŒæˆåŽï¼Œæ‚¨å°†çœ‹åˆ°ï¼š
- å®žæ—¶äº¤æ˜“ä¿¡å·åˆ†æžæŠ¥å‘Š
- ä¹°å…¥ä¿¡å·åˆ—è¡¨ï¼ˆOIå¸‚å€¼è­¦æŠ¥ï¼‰
- å¼‚å¸¸è­¦æŠ¥ä¿¡å·ï¼ˆOIå¼‚å¸¸è­¦æŠ¥ï¼‰
- é£Žé™©è¯„åˆ†å’Œç»¼åˆæŒ‡æ ‡
- ä¼ä¸šå¾®ä¿¡æŽ¨é€é€šçŸ¥

## ðŸ”„ å¸ç§åˆ—è¡¨ä¸Žæµé€šé‡ç®¡ç†

### è‡ªåŠ¨ç®¡ç†ï¼ˆæŽ¨èï¼‰
ç³»ç»Ÿä¼šè‡ªåŠ¨ç»´æŠ¤å¸ç§åˆ—è¡¨å’Œæµé€šé‡æ•°æ®ï¼š
- **å¸ç§åˆ—è¡¨æ›´æ–°**ï¼šæ¯æ¬¡è¿è¡Œè‡ªåŠ¨æ£€æµ‹æ— æ•ˆå¸ç§ï¼Œæ·»åŠ æ–°å¸ç§
- **æµé€šé‡æ•°æ®**ï¼šè‡ªåŠ¨èŽ·å–å¹¶ç¼“å­˜ï¼Œæ”¯æŒæ‰‹åŠ¨è¦†ç›–

### æ‰‹åŠ¨æ›´æ–°ï¼ˆå¯é€‰ï¼‰
```bash
# æ›´æ–°å¸ç§åˆ—è¡¨å’Œæµé€šé‡æ•°æ®
python3 update_symbols.py --update

# åªèŽ·å–æœ‰æ•ˆå¸ç§åˆ—è¡¨
python3 update_symbols.py --get-valid
```

### æ‰‹åŠ¨è®¾ç½®æµé€šé‡
åœ¨ `manual_supply.py` ä¸­æ·»åŠ éœ€è¦æ‰‹åŠ¨è¦†ç›–çš„å¸ç§ï¼š
```python
MANUAL_SUPPLY = {
    'BTC': 19889596,  # æ‰‹åŠ¨è®¾ç½®BTCæµé€šé‡
    'ETH': 120716539,  # æ‰‹åŠ¨è®¾ç½®ETHæµé€šé‡
    # ... å…¶ä»–å¸ç§
}
```

### è‡ªåŠ¨æ›´æ–°æµé€šé‡ï¼ˆæŽ¨èï¼‰
ä½¿ç”¨æµé€šé‡æ›´æ–°å·¥å…·è‡ªåŠ¨èŽ·å–æœ€æ–°æ•°æ®ï¼š
```bash
# å¼ºåˆ¶æ›´æ–°æ‰€æœ‰å¸ç§çš„æµé€šé‡ï¼ˆæŽ¨èï¼‰
python3 update_supply.py --force-all --save

# åªæ›´æ–°æ–°å¸ç§çš„æµé€šé‡
python3 update_supply.py --new --save

# æ›´æ–°æŒ‡å®šå¸ç§çš„æµé€šé‡
python3 update_supply.py --symbols BTC ETH BNB --force --save
```

**å·¥å…·ç‰¹æ€§ï¼š**
- âœ… ä¼˜å…ˆä½¿ç”¨CoinMarketCap APIï¼Œå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°CoinGecko
- âœ… æ”¯æŒå¼ºåˆ¶æ›´æ–°æ‰€æœ‰å¸ç§ï¼Œä¸å†å› ä¸º"å·²æœ‰æ•°æ®"å°±è·³è¿‡
- âœ… èŽ·å–å¤±è´¥çš„å¸ç§è®°å½•ä¸ºNoneï¼Œä¾¿äºŽåŽç»­å¤„ç†
- âœ… è‡ªåŠ¨å¤‡ä»½åŽŸæ–‡ä»¶ï¼Œç”Ÿæˆè¯¦ç»†æ›´æ–°æŠ¥å‘Š

## âš™ï¸ è°ƒæ•´ç­–ç•¥å‚æ•°

### æ–¹æ³•1: ä½¿ç”¨é¢„è®¾ç­–ç•¥
```python
from strategy_config import StrategyConfig
from trading_signal_analyzer import TradingSignalAnalyzer

# ä¿å®ˆç­–ç•¥
config = StrategyConfig.get_conservative_config()
analyzer = TradingSignalAnalyzer(config)

# æ¿€è¿›ç­–ç•¥
config = StrategyConfig.get_aggressive_config()
analyzer = TradingSignalAnalyzer(config)

# å¹³è¡¡ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
config = StrategyConfig.get_balanced_config()
analyzer = TradingSignalAnalyzer(config)
```

### æ–¹æ³•2: ç¼–è¾‘é…ç½®æ–‡ä»¶
æ‰“å¼€ `strategy_config.py`ï¼Œä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š
```python
# OIå¸‚å€¼è­¦æŠ¥å‚æ•°
OI_MARKET_CAP_RATIO_THRESHOLD = 0.5  # OI/å¸‚å€¼æ¯”çŽ‡é˜ˆå€¼
MIN_OI_VALUE = 5_000_000  # æœ€å°OIä»·å€¼
SIGNAL_STRENGTH_THRESHOLD = 60  # ä¿¡å·å¼ºåº¦é˜ˆå€¼

# OIå¼‚å¸¸è­¦æŠ¥å‚æ•°
FUNDING_RATE_ABS_THRESHOLD = 0.001  # èµ„é‡‘è´¹çŽ‡ç»å¯¹å€¼é˜ˆå€¼ï¼ˆ0.1%ï¼‰
OI_SURGE_RATIO_THRESHOLD = 2.0  # OIçŸ­æœŸæ¿€å¢žæ¯”çŽ‡é˜ˆå€¼
```

## ðŸŽ¯ æ ¸å¿ƒç­–ç•¥å‚æ•°è¯´æ˜Ž

| å‚æ•° | è¯´æ˜Ž | é»˜è®¤å€¼ | å»ºè®®èŒƒå›´ |
|------|------|--------|----------|
| OI_MARKET_CAP_RATIO_THRESHOLD | OI/å¸‚å€¼æ¯”çŽ‡é˜ˆå€¼ | 0.5 | 0.3-0.8 |
| MIN_OI_VALUE | æœ€å°OIä»·å€¼(USDT) | 5,000,000 | 2M-10M |
| VOLUME_MARKET_CAP_RATIO_THRESHOLD | æˆäº¤é‡/å¸‚å€¼æ¯”çŽ‡ | 0.1 | 0.05-0.15 |
| SIGNAL_STRENGTH_THRESHOLD | ä¿¡å·å¼ºåº¦é˜ˆå€¼ | 60 | 50-75 |
| MAX_RISK_SCORE | æœ€å¤§é£Žé™©è¯„åˆ† | 70 | 50-80 |
| FUNDING_RATE_ABS_THRESHOLD | èµ„é‡‘è´¹çŽ‡ç»å¯¹å€¼é˜ˆå€¼ | 0.001 | 0.0005-0.002 |
| OI_SURGE_RATIO_THRESHOLD | OIçŸ­æœŸæ¿€å¢žæ¯”çŽ‡é˜ˆå€¼ | 2.0 | 1.5-2.5 |

## ðŸš¨ åŒé‡è­¦æŠ¥æœºåˆ¶

### 1. OIå¸‚å€¼è­¦æŠ¥ï¼ˆä¹°å…¥ä¿¡å·ï¼‰
- **è§¦å‘æ¡ä»¶**ï¼šOI/å¸‚å€¼ > 0.5 + OI > 5M + æˆäº¤é‡/å¸‚å€¼ > 0.1 + ä¿¡å·å¼ºåº¦ > 60
- **ç”¨é€”**ï¼šå¯»æ‰¾æŠ•èµ„æœºä¼š
- **ç¤ºä¾‹**ï¼š`OI/å¸‚å€¼è­¦æŠ¥ | OI/å¸‚å€¼æ¯”é«˜(0.57) | OIå……è¶³(8.4M)`

### 2. OIå¼‚å¸¸è­¦æŠ¥ï¼ˆå¸‚åœºå¼‚å¸¸è­¦å‘Šï¼‰
- **è§¦å‘æ¡ä»¶**ï¼šèµ„é‡‘è´¹çŽ‡ç»å¯¹å€¼ > 0.1% AND OIçŸ­æœŸæ¿€å¢ž > 2.0
- **ç”¨é€”**ï¼šå¸‚åœºå¼‚å¸¸è­¦å‘Šï¼Œé£Žé™©æç¤º
- **ç¤ºä¾‹**ï¼š`ðŸš¨OIå¼‚å¸¸è­¦æŠ¥ | èµ„é‡‘è´¹çŽ‡å¼‚å¸¸(0.15%) | OIæ¿€å¢ž(2.5x)`

## ðŸ“ˆ ç­–ç•¥é€‰æ‹©å»ºè®®

### æ–°æ‰‹æŠ•èµ„è€…
- ä½¿ç”¨**ä¿å®ˆç­–ç•¥**
- å…³æ³¨ä¿¡å·å¼ºåº¦ > 75 çš„äº¤æ˜“å¯¹
- é£Žé™©è¯„åˆ† < 50
- èµ„é‡‘è´¹çŽ‡é˜ˆå€¼ï¼š0.2%
- OIæ¿€å¢žé˜ˆå€¼ï¼š2.5å€

### ç»éªŒæŠ•èµ„è€…
- ä½¿ç”¨**å¹³è¡¡ç­–ç•¥**
- å…³æ³¨ä¿¡å·å¼ºåº¦ > 60 çš„äº¤æ˜“å¯¹
- é£Žé™©è¯„åˆ† < 70
- èµ„é‡‘è´¹çŽ‡é˜ˆå€¼ï¼š0.1%
- OIæ¿€å¢žé˜ˆå€¼ï¼š2.0å€

### ä¸“ä¸šæŠ•èµ„è€…
- ä½¿ç”¨**æ¿€è¿›ç­–ç•¥**
- å…³æ³¨ä¿¡å·å¼ºåº¦ > 50 çš„äº¤æ˜“å¯¹
- é£Žé™©è¯„åˆ† < 80
- èµ„é‡‘è´¹çŽ‡é˜ˆå€¼ï¼š0.05%
- OIæ¿€å¢žé˜ˆå€¼ï¼š1.5å€

## ðŸ”§ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•èŽ·å–æ›´å¤šäº¤æ˜“å¯¹æ•°æ®ï¼Ÿ
A: ä¿®æ”¹ `config.py` ä¸­çš„ `TOP_VOLUME_LIMIT` å‚æ•°

### Q: å¦‚ä½•è°ƒæ•´ä¿¡å·çµæ•åº¦ï¼Ÿ
A: ä¿®æ”¹ `strategy_config.py` ä¸­çš„é˜ˆå€¼å‚æ•°

### Q: å¸ç§åˆ—è¡¨ä¼šè‡ªåŠ¨æ›´æ–°å—ï¼Ÿ
A: æ˜¯çš„ï¼Œæ¯æ¬¡è¿è¡Œä¸»ç¨‹åºæ—¶éƒ½ä¼šè‡ªåŠ¨æ›´æ–°å¸ç§åˆ—è¡¨

### Q: æµé€šé‡æ•°æ®å¦‚ä½•ç®¡ç†ï¼Ÿ
A: ç³»ç»Ÿè‡ªåŠ¨èŽ·å–ï¼Œ`manual_supply.py` å¯æ‰‹åŠ¨è¦†ç›–ï¼Œä¼˜å…ˆçº§æœ€é«˜

### Q: å¦‚ä½•æ›´æ–°æµé€šé‡æ•°æ®ï¼Ÿ
A: ä½¿ç”¨ `python3 update_supply.py --force-all --save` å¼ºåˆ¶æ›´æ–°æ‰€æœ‰å¸ç§

### Q: æµé€šé‡èŽ·å–å¤±è´¥æ€Žä¹ˆåŠžï¼Ÿ
A: å¤±è´¥çš„å¸ç§ä¼šè®°å½•ä¸ºNoneï¼Œå¯ä»¥æ‰‹åŠ¨åœ¨ `manual_supply.py` ä¸­è®¾ç½®ï¼Œæˆ–é‡æ–°è¿è¡Œæ›´æ–°å·¥å…·

### Q: OIåŽ†å²æ•°æ®ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ
A: ä¿å­˜åœ¨ `oi_history_data/` ç›®å½•ï¼Œæ¯å¤©ä¸€ä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨ä¿ç•™10å¤©

### Q: å¦‚ä½•æŸ¥çœ‹ä¸‹æ¬¡è¿è¡Œæ—¶é—´ï¼Ÿ
A: è¿è¡Œ `python3 scheduler.py --show-next`

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚æžœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸
2. Pythonç‰ˆæœ¬æ˜¯å¦ä¸º3.7+
3. ä¾èµ–åŒ…æ˜¯å¦æ­£ç¡®å®‰è£…
4. ä¼ä¸šå¾®ä¿¡webhooké…ç½®æ˜¯å¦æ­£ç¡®
5. æŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼Œäº†è§£å…·ä½“é”™è¯¯ä¿¡æ¯

## ðŸŽ‰ å¼€å§‹ä½¿ç”¨

çŽ°åœ¨æ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨äº¤æ˜“ä¿¡å·ç³»ç»Ÿäº†ï¼å»ºè®®ï¼š

1. **å…ˆè¿è¡Œä¸€æ¬¡æµ‹è¯•**ï¼š`python3 scheduler.py --run-now`
2. **æŸ¥çœ‹æŽ¨é€æ•ˆæžœ**ï¼šç¡®è®¤ä¼ä¸šå¾®ä¿¡é€šçŸ¥æ­£å¸¸
3. **é€‰æ‹©åˆé€‚çš„ç­–ç•¥**ï¼šæ ¹æ®é£Žé™©åå¥½é€‰æ‹©ä¿å®ˆ/å¹³è¡¡/æ¿€è¿›ç­–ç•¥
4. **å¯åŠ¨å®šæ—¶ä»»åŠ¡**ï¼š`python3 scheduler.py --daemon --funding-rate`
5. **å®šæœŸç›‘æŽ§**ï¼šæŸ¥çœ‹æ—¥å¿—å’ŒæŽ¨é€ç»“æžœï¼Œè°ƒæ•´ç­–ç•¥å‚æ•°

ç³»ç»Ÿä¼šè‡ªåŠ¨ç»´æŠ¤å¸ç§åˆ—è¡¨ã€æ”¶é›†OIåŽ†å²æ•°æ®ã€åˆ†æžäº¤æ˜“ä¿¡å·ï¼Œä¸ºæ‚¨æä¾›ä¸“ä¸šçš„é‡åŒ–äº¤æ˜“æ”¯æŒï¼ 